{% extends "layout.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<h1 class="mb-4">Welcome, {{ current_user.name }}!</h1>

<div class="card">
    <div class="card-header">
        Your Dashboard
    </div>
    <div class="card-body">
        <h4 class="mb-3">HSC Information & Quizzes</h4>
        {% if courses %}
            <div class="list-group mb-4">
                {% for course in courses %}
                    <a href="{{ url_for('course_page', course_id_str=course.course_id_str) }}" class="list-group-item">
                        {{ course.title }}
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-muted">No HSC information has been added yet.</p>
        {% endif %}

        <hr style="border-color: var(--border-color);">

        <h4 class="mt-4 mb-3">Your Quiz Scores</h4>
        {% if marks %}
            <ul class="list-group mb-4">
                {% for mark in marks %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ mark.course_id_str.replace('_', ' ')|title }}
                        <span class="badge bg-primary">{{ mark.score }}/{{ mark.total }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">You haven't completed any quizzes yet.</p>
        {% endif %}

        <hr style="border-color: var(--border-color);">

        <h4 class="mt-4 mb-3">Student Resources</h4>
        {% if resources %}
            <div class="list-group">
                {% for resource in resources %}
                    <a href="{{ url_for('resource_page', slug=resource.slug) }}" class="list-group-item">
                        {{ resource.title }}
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-muted">No resources have been added yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}